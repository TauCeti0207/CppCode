<div id="article_content" class="article_content clearfix">
        <link rel="stylesheet" href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/ck_htmledit_views-163de54645.css">
                <div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p>
<div class="toc">
 <h3><a name="t0"></a>文章目录</h3>
 <ul><li><a href="#_3" target="_self">零、写在前面</a></li><li><a href="#_9" target="_self">一、概念定义</a></li><li><ul><li><a href="#1_10" target="_self">1、部分和</a></li><li><a href="#2_13" target="_self">2、朴素做法</a></li><li><a href="#3_27" target="_self">3、前缀和</a></li><li><a href="#4_30" target="_self">4、前缀和的边界值</a></li><li><a href="#5_33" target="_self">5、边界处理</a></li><li><a href="#6_43" target="_self">6、再看部分和</a></li></ul>
  </li><li><a href="#_47" target="_self">二、题目描述</a></li><li><ul><li><a href="#1_48" target="_self">1、定义</a></li><li><a href="#2_50" target="_self">2、求解</a></li></ul>
  </li><li><a href="#_53" target="_self">三、算法详解</a></li><li><a href="#_59" target="_self">四、源码剖析</a></li><li><a href="#_86" target="_self">五、推荐专栏</a></li><li><a href="#_93" target="_self">六、习题练习</a></li></ul>
</div>
<p></p> 
<h1><a name="t1"></a><a id="_3"></a>零、写在前面</h1> 
<p>  这是<a href="https://blog.csdn.net/whereisherofrom/category_11426012.html">《算法零基础100讲》</a> 专栏打卡学习的第 <font color="red">57</font> 天了。如果觉得本专栏太贵无法承受，在博主主页添加博主好友，获取 <font color="red"><strong>付费专栏优惠券</strong></font>。<br>   每天专栏的题，做不出来没关系，因为困难的题涉及知识点较多，可能会涉及到后面的章节，所以不要着急，内容能看懂，能自己分析，能做出简单题就行。<br>   在刷题的过程中，总结自己遇到的坑点，写出 <strong>「 解题报告 」</strong> 供他人学习，也是一种自我学习的方式。这就是经典的帮助他人的同时，成就自己。目前， <a href="https://bbs.csdn.net/forums/hero"><strong>「 万人千题 」</strong></a> 社区 每天都会有五六篇高质量的 <strong>「 解题报告 」</strong> 被我 <strong>「 加精 」</strong>。如果觉得自己有能力的，也可以来发布你的 <strong>「 解题报告 」</strong>。千万级流量，你我共同拥有。</p> 
<h1><a name="t2"></a><a id="_9"></a>一、概念定义</h1> 
<h2><a name="t3"></a><a id="1_10"></a>1、部分和</h2> 
<p>  所谓 <strong>部分和</strong>，就是给定一个数组，求它的某一段连续子数组的和。</p> 
<h2><a name="t4"></a><a id="2_13"></a>2、朴素做法</h2> 
<p>  比较传统的做法，就是对于要求部分和的区间 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        [
       
       
        l
       
       
        ,
       
       
        r
       
       
        ]
       
      
      
       [l, r]
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mclose">]</span></span></span></span></span>，枚举所有的数进行相加，如下：</p> 
<pre class="prettyprint"><code class="prism language-c has-numbering" onclick="mdcp.copyCode(event)" style="position: unset;"><span class="token keyword">int</span> <span class="token function">partialSum</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">int</span> s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> l<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> r<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        s <span class="token operator">+=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="hljs-button {2}" data-title="复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4259&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li></ul></pre> 
<p>  函数的返回值代表了求 <code>a[]</code>数组的第 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        l
       
      
      
       l
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span></span></span></span></span> 项 到 第 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        r
       
      
      
       r
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span></span></span></span></span> 项的和，如果数组长度为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        n
       
      
      
       n
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span>，这样做的最坏时间复杂度为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        O
       
       
        (
       
       
        n
       
       
        )
       
      
      
       O(n)
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>。那么，试想一下，如果有 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        m
       
      
      
       m
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">m</span></span></span></span></span> 次询问，每次询问都是<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        O
       
       
        (
       
       
        n
       
       
        )
       
      
      
       O(n)
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，时间复杂度就会变成 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        O
       
       
        (
       
       
        n
       
       
        m
       
       
        )
       
      
      
       O(nm)
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span></span>，有没有办法优化呢？</p> 
<h2><a name="t5"></a><a id="3_27"></a>3、前缀和</h2> 
<p>  我们可以用一个<code>sum[]</code>数组来表示数组的前缀和，即<code>sum[i]</code>表示的是前 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        i
       
      
      
       i
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span></span></span></span></span> 项的和，数学公式如下：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">
     
      
       
        
         s
        
        
         u
        
        
         m
        
        
         [
        
        
         i
        
        
         ]
        
        
         =
        
        
         a
        
        
         [
        
        
         0
        
        
         ]
        
        
         +
        
        
         a
        
        
         [
        
        
         1
        
        
         ]
        
        
         +
        
        
         .
        
        
         .
        
        
         .
        
        
         a
        
        
         [
        
        
         i
        
        
         ]
        
        
         =
        
        
         
          ∑
         
         
          
           k
          
          
           =
          
          
           0
          
         
         
          i
         
        
        
         a
        
        
         [
        
        
         k
        
        
         ]
        
       
       
        sum[i] = a[0] + a[1] + ... a[i] = \sum_{k=0}^{i} a[k]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 3.11378em; vertical-align: -1.30211em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.81167em;"><span class="" style="top: -1.84789em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span class="" style="top: -3.05em;"><span class="pstrut" style="height: 3.05em;"></span><span class=""><span class="mop op-symbol large-op">∑</span></span></span><span class="" style="top: -4.3em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.30211em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mclose">]</span></span></span></span></span></span>  将 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        i
       
       
        −
       
       
        1
       
      
      
       i-1
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.74285em; vertical-align: -0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 代入上述的 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        i
       
      
      
       i
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span></span></span></span></span>，得到：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">
     
      
       
        
         s
        
        
         u
        
        
         m
        
        
         [
        
        
         i
        
        
         −
        
        
         1
        
        
         ]
        
        
         =
        
        
         a
        
        
         [
        
        
         0
        
        
         ]
        
        
         +
        
        
         a
        
        
         [
        
        
         1
        
        
         ]
        
        
         +
        
        
         .
        
        
         .
        
        
         .
        
        
         a
        
        
         [
        
        
         i
        
        
         −
        
        
         1
        
        
         ]
        
        
         =
        
        
         
          ∑
         
         
          
           k
          
          
           =
          
          
           0
          
         
         
          
           i
          
          
           −
          
          
           1
          
         
        
        
         a
        
        
         [
        
        
         k
        
        
         ]
        
       
       
        sum[i-1] = a[0] + a[1] + ... a[i-1] = \sum_{k=0}^{i-1} a[k]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 3.11378em; vertical-align: -1.30211em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.81167em;"><span class="" style="top: -1.84789em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span class="" style="top: -3.05em;"><span class="pstrut" style="height: 3.05em;"></span><span class=""><span class="mop op-symbol large-op">∑</span></span></span><span class="" style="top: -4.3em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.30211em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mclose">]</span></span></span></span></span></span> 于是可以得到 <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">
     
      
       
        
         s
        
        
         u
        
        
         m
        
        
         [
        
        
         i
        
        
         ]
        
        
         =
        
        
         s
        
        
         u
        
        
         m
        
        
         [
        
        
         i
        
        
         −
        
        
         1
        
        
         ]
        
        
         +
        
        
         a
        
        
         [
        
        
         i
        
        
         ]
        
       
       
        sum[i] = sum[i-1] + a[i]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span></span></span>。</p> 
<h2><a name="t6"></a><a id="4_30"></a>4、前缀和的边界值</h2> 
<p>  有了递推式，我们还需要有一个边界值，从定义出发，边界值应该是：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">
     
      
       
        
         s
        
        
         u
        
        
         m
        
        
         [
        
        
         −
        
        
         1
        
        
         ]
        
        
         =
        
        
         0
        
       
       
        sum[-1] = 0
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span></span> 怎么理解呢？试想一下，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        s
       
       
        u
       
       
        m
       
       
        [
       
       
        1
       
       
        ]
       
      
      
       sum[1]
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span> 表示的是从 第0项 累加到 第1项； <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        s
       
       
        u
       
       
        m
       
       
        [
       
       
        0
       
       
        ]
       
      
      
       sum[0]
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span></span></span></span></span> 表示的是从 第0项 累加到 第0项；<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        s
       
       
        u
       
       
        m
       
       
        [
       
       
        −
       
       
        1
       
       
        ]
       
      
      
       sum[-1]
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span> 表示的是一项都没有累加，那么这个值固然就是零了。即：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">
     
      
       
        
         s
        
        
         u
        
        
         m
        
        
         [
        
        
         i
        
        
         ]
        
        
         =
        
        
         
          {
         
         
          
           
            
             
              0
             
            
           
           
            
             
              
               i
              
              
               =
              
              
               −
              
              
               1
              
             
            
           
          
          
           
            
             
              
               s
              
              
               u
              
              
               m
              
              
               [
              
              
               i
              
              
               −
              
              
               1
              
              
               ]
              
              
               +
              
              
               a
              
              
               [
              
              
               i
              
              
               ]
              
             
            
           
           
            
             
              
               i
              
              
               ≥
              
              
               0
              
             
            
           
          
         
        
       
       
        sum[i] = <span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display"><span class="MathJax MathJax_FullWidth" id="MathJax-Element-1-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow><mo>{</mo><mtable columnalign=&quot;left left&quot; rowspacing=&quot;.2em&quot; columnspacing=&quot;1em&quot; displaystyle=&quot;false&quot;><mtr><mtd><mn>0</mn></mtd><mtd><mi>i</mi><mo>=</mo><mo>&amp;#x2212;</mo><mn>1</mn></mtd></mtr><mtr><mtd><mi>s</mi><mi>u</mi><mi>m</mi><mo stretchy=&quot;false&quot;>[</mo><mi>i</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo><mo>+</mo><mi>a</mi><mo stretchy=&quot;false&quot;>[</mo><mi>i</mi><mo stretchy=&quot;false&quot;>]</mo></mtd><mtd><mi>i</mi><mo>&amp;#x2265;</mo><mn>0</mn></mtd></mtr></mtable><mo fence=&quot;true&quot; stretchy=&quot;true&quot; symmetric=&quot;true&quot;></mo></mrow></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" style="width: 100%; display: inline-block; min-width: 12.354em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.382em, 1012.1em, 5.115em, -999.997em); top: -3.997em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-2"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(2.382em, 1012.1em, 5.115em, -999.997em); top: -3.997em; left: 50%; margin-left: -6.022em;"><span class="mrow" id="MathJax-Span-3"><span class="mo" id="MathJax-Span-4" style="vertical-align: 0em;"><span style="font-family: MathJax_Size3;">{</span></span><span class="mtable" id="MathJax-Span-5" style="padding-right: 0.154em; padding-left: 0.154em;"><span style="display: inline-block; position: relative; width: 11.038em; height: 0px;"><span style="position: absolute; clip: rect(2.584em, 1006.99em, 5.014em, -999.997em); top: -3.997em; left: 0em;"><span style="display: inline-block; position: relative; width: 7.14em; height: 0px;"><span style="position: absolute; width: 100%; clip: rect(3.192em, 1000.46em, 4.154em, -999.997em); top: -4.554em; left: 0em;"><span class="mtd" id="MathJax-Span-6"><span class="mrow" id="MathJax-Span-7"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.46em, 4.154em, -999.997em); top: -3.997em; left: 50%; margin-left: -0.251em;"><span class="mn" id="MathJax-Span-8" style="font-family: MathJax_Main;">0</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; width: 100%; clip: rect(3.091em, 1006.99em, 4.407em, -999.997em); top: -3.389em; left: 0em;"><span class="mtd" id="MathJax-Span-15"><span class="mrow" id="MathJax-Span-16"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1006.99em, 4.407em, -999.997em); top: -3.997em; left: 50%; margin-left: -3.541em;"><span class="mi" id="MathJax-Span-17" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-18" style="font-family: MathJax_Math-italic;">u</span><span class="mi" id="MathJax-Span-19" style="font-family: MathJax_Math-italic;">m</span><span class="mo" id="MathJax-Span-20" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-21" style="font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-22" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-23" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-24" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-25" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mi" id="MathJax-Span-26" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">a</span><span class="mo" id="MathJax-Span-27" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-28" style="font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-29" style="font-family: MathJax_Main;">]</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; clip: rect(2.584em, 1002.84em, 4.913em, -999.997em); top: -3.997em; left: 8.153em;"><span style="display: inline-block; position: relative; width: 2.939em; height: 0px;"><span style="position: absolute; width: 100%; clip: rect(3.192em, 1002.84em, 4.255em, -999.997em); top: -4.554em; left: 0em;"><span class="mtd" id="MathJax-Span-9"><span class="mrow" id="MathJax-Span-10"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.84em, 4.255em, -999.997em); top: -3.997em; left: 50%; margin-left: -1.466em;"><span class="mi" id="MathJax-Span-11" style="font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-12" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mo" id="MathJax-Span-13" style="font-family: MathJax_Main; padding-left: 0.256em;">−</span><span class="mn" id="MathJax-Span-14" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; width: 100%; clip: rect(3.192em, 1002.08em, 4.305em, -999.997em); top: -3.389em; left: 0em;"><span class="mtd" id="MathJax-Span-30"><span class="mrow" id="MathJax-Span-31"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.08em, 4.305em, -999.997em); top: -3.997em; left: 50%; margin-left: -1.061em;"><span class="mi" id="MathJax-Span-32" style="font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-33" style="font-family: MathJax_Main; padding-left: 0.256em;">≥</span><span class="mn" id="MathJax-Span-34" style="font-family: MathJax_Main; padding-left: 0.256em;">0</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-35"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.03em; border-left: 0px solid; width: 0px; height: 2.533em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mo>{</mo><mtable columnalign="left left" rowspacing=".2em" columnspacing="1em" displaystyle="false"><mtr><mtd><mn>0</mn></mtd><mtd><mi>i</mi><mo>=</mo><mo>−</mo><mn>1</mn></mtd></mtr><mtr><mtd><mi>s</mi><mi>u</mi><mi>m</mi><mo stretchy="false">[</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo><mo>+</mo><mi>a</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mtd><mtd><mi>i</mi><mo>≥</mo><mn>0</mn></mtd></mtr></mtable><mo fence="true" stretchy="true" symmetric="true"></mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-1">\begin{cases} 0 & i = -1\\ sum[i-1] + a[i] & i \ge 0\end{cases}</script>
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 3.00003em; vertical-align: -1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top: 0em;"><span class="delimsizing size4">{<!-- --></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.69em;"><span class="" style="top: -3.69em;"><span class="pstrut" style="height: 3.008em;"></span><span class="mord"><span class="mord">0</span></span></span><span class="" style="top: -2.25em;"><span class="pstrut" style="height: 3.008em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.19em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.69em;"><span class="" style="top: -3.69em;"><span class="pstrut" style="height: 3.008em;"></span><span class="mord"><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -2.25em;"><span class="pstrut" style="height: 3.008em;"></span><span class="mord"><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.19em;"><span class=""></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></p> 
<h2><a name="t7"></a><a id="5_33"></a>5、边界处理</h2> 
<p>  这时候，我们需要注意 C 语言中的 下标是从零开始的，所以，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        s
       
       
        u
       
       
        m
       
       
        [
       
       
        −
       
       
        1
       
       
        ]
       
      
      
       sum[-1]
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span>会导致数组下标越界，可以将它转换成函数的形式将数组<code>sum[]</code>进行一次封装：</p> 
<pre class="prettyprint"><code class="prism language-c has-numbering" onclick="mdcp.copyCode(event)" style="position: unset;"><span class="token keyword">int</span> <span class="token function">prefixSum</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="hljs-button {2}" data-title="复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4259&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li></ul></pre> 
<h2><a name="t8"></a><a id="6_43"></a>6、再看部分和</h2> 
<p>  然后，我们继续来看部分和，有了前缀和数组<code>sum[]</code>以后，我们就可以利用差分法，在 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        O
       
       
        (
       
       
        1
       
       
        )
       
      
      
       O(1)
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span> 的时间内求得部分和，原因就是：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">
     
      
       
        
         
          
           
            
             
              ∑
             
             
              
               k
              
              
               =
              
              
               l
              
             
             
              r
             
            
            
             a
            
            
             [
            
            
             k
            
            
             ]
            
           
          
         
         
          
           
            
            
             =
            
            
             a
            
            
             [
            
            
             l
            
            
             ]
            
            
             +
            
            
             a
            
            
             [
            
            
             l
            
            
             +
            
            
             1
            
            
             ]
            
            
             +
            
            
             .
            
            
             .
            
            
             .
            
            
             a
            
            
             [
            
            
             r
            
            
             −
            
            
             1
            
            
             ]
            
            
             +
            
            
             a
            
            
             [
            
            
             r
            
            
             ]
            
           
          
         
        
        
         
          
           
          
         
         
          
           
            
            
             =
            
            
             (
            
            
             a
            
            
             [
            
            
             0
            
            
             ]
            
            
             +
            
            
             .
            
            
             .
            
            
             .
            
            
             +
            
            
             a
            
            
             [
            
            
             r
            
            
             ]
            
            
             )
            
            
             −
            
            
             (
            
            
             a
            
            
             [
            
            
             0
            
            
             ]
            
            
             +
            
            
             .
            
            
             .
            
            
             .
            
            
             +
            
            
             a
            
            
             [
            
            
             l
            
            
             −
            
            
             1
            
            
             ]
            
           
          
         
        
        
         
          
           
          
         
         
          
           
            
            
             =
            
            
             
              ∑
             
             
              
               k
              
              
               =
              
              
               0
              
             
             
              r
             
            
            
             a
            
            
             [
            
            
             k
            
            
             ]
            
            
             −
            
            
             
              ∑
             
             
              
               k
              
              
               =
              
              
               0
              
             
             
              
               l
              
              
               −
              
              
               1
              
             
            
            
             a
            
            
             [
            
            
             k
            
            
             ]
            
           
          
         
        
        
         
          
           
          
         
         
          
           
            
            
             =
            
            
             s
            
            
             u
            
            
             m
            
            
             [
            
            
             r
            
            
             ]
            
            
             −
            
            
             s
            
            
             u
            
            
             m
            
            
             [
            
            
             l
            
            
             −
            
            
             1
            
            
             ]
            
           
          
         
        
       
       
        <span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display"><span class="MathJax MathJax_FullWidth" id="MathJax-Element-2-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right left right left right left right left right left right left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em&quot; displaystyle=&quot;true&quot;><mtr><mtd><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi><mo>=</mo><mi>l</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>r</mi></mrow></munderover><mi>a</mi><mo stretchy=&quot;false&quot;>[</mo><mi>k</mi><mo stretchy=&quot;false&quot;>]</mo></mtd><mtd><mi></mi><mo>=</mo><mi>a</mi><mo stretchy=&quot;false&quot;>[</mo><mi>l</mi><mo stretchy=&quot;false&quot;>]</mo><mo>+</mo><mi>a</mi><mo stretchy=&quot;false&quot;>[</mo><mi>l</mi><mo>+</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo><mo>+</mo><mo>.</mo><mo>.</mo><mo>.</mo><mi>a</mi><mo stretchy=&quot;false&quot;>[</mo><mi>r</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo><mo>+</mo><mi>a</mi><mo stretchy=&quot;false&quot;>[</mo><mi>r</mi><mo stretchy=&quot;false&quot;>]</mo></mtd></mtr><mtr><mtd /><mtd><mi></mi><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>a</mi><mo stretchy=&quot;false&quot;>[</mo><mn>0</mn><mo stretchy=&quot;false&quot;>]</mo><mo>+</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>+</mo><mi>a</mi><mo stretchy=&quot;false&quot;>[</mo><mi>r</mi><mo stretchy=&quot;false&quot;>]</mo><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2212;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>a</mi><mo stretchy=&quot;false&quot;>[</mo><mn>0</mn><mo stretchy=&quot;false&quot;>]</mo><mo>+</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>+</mo><mi>a</mi><mo stretchy=&quot;false&quot;>[</mo><mi>l</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo></mtd></mtr><mtr><mtd /><mtd><mi></mi><mo>=</mo><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>r</mi></mrow></munderover><mi>a</mi><mo stretchy=&quot;false&quot;>[</mo><mi>k</mi><mo stretchy=&quot;false&quot;>]</mo><mo>&amp;#x2212;</mo><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>l</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></munderover><mi>a</mi><mo stretchy=&quot;false&quot;>[</mo><mi>k</mi><mo stretchy=&quot;false&quot;>]</mo></mtd></mtr><mtr><mtd /><mtd><mi></mi><mo>=</mo><mi>s</mi><mi>u</mi><mi>m</mi><mo stretchy=&quot;false&quot;>[</mo><mi>r</mi><mo stretchy=&quot;false&quot;>]</mo><mo>&amp;#x2212;</mo><mi>s</mi><mi>u</mi><mi>m</mi><mo stretchy=&quot;false&quot;>[</mo><mi>l</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo></mtd></mtr></mtable></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-36" style="width: 100%; display: inline-block; min-width: 20.91em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(4.964em, 1020.35em, 13.974em, -999.997em); top: -9.717em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-37"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(4.964em, 1020.35em, 13.974em, -999.997em); top: -9.717em; left: 50%; margin-left: -10.223em;"><span class="mtable" id="MathJax-Span-38" style="padding-left: 0.154em;"><span style="display: inline-block; position: relative; width: 20.353em; height: 0px;"><span style="position: absolute; clip: rect(4.71em, 1003.09em, 13.468em, -999.997em); top: -9.464em; left: 0em;"><span style="display: inline-block; position: relative; width: 3.192em; height: 0px;"><span style="position: absolute; width: 100%; clip: rect(2.281em, 1003.09em, 5.369em, -999.997em); top: -7.034em; left: 0em;"><span class="mtd" id="MathJax-Span-39"><span class="mrow" id="MathJax-Span-40"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(2.281em, 1003.09em, 5.369em, -999.997em); top: -3.997em; left: 50%; margin-left: -1.617em;"><span class="munderover" id="MathJax-Span-41"><span style="display: inline-block; position: relative; width: 1.471em; height: 0px;"><span style="position: absolute; clip: rect(2.888em, 1001.37em, 4.609em, -999.997em); top: -3.997em; left: 0em;"><span class="mo" id="MathJax-Span-42" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; clip: rect(3.344em, 1001.12em, 4.255em, -999.997em); top: -2.883em; left: 0.154em;"><span class="texatom" id="MathJax-Span-43"><span class="mrow" id="MathJax-Span-44"><span style="display: inline-block; position: relative; width: 1.116em; height: 0px;"><span style="position: absolute; clip: rect(3.344em, 1001.12em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-45" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span class="mo" id="MathJax-Span-46" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mi" id="MathJax-Span-47" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; clip: rect(3.445em, 1000.31em, 4.154em, -999.997em); top: -5.161em; left: 0.559em;"><span class="texatom" id="MathJax-Span-48"><span class="mrow" id="MathJax-Span-49"><span style="display: inline-block; position: relative; width: 0.306em; height: 0px;"><span style="position: absolute; clip: rect(3.546em, 1000.31em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-50" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mi" id="MathJax-Span-51" style="font-family: MathJax_Math-italic; padding-left: 0.154em;">a</span><span class="mo" id="MathJax-Span-52" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-53" style="font-family: MathJax_Math-italic;">k</span><span class="mo" id="MathJax-Span-54" style="font-family: MathJax_Main;">]</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; clip: rect(3.85em, 1000em, 4.154em, -999.997em); top: -4.756em; right: 0em;"><span class="mtd" id="MathJax-Span-85"><span class="mrow" id="MathJax-Span-86"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; clip: rect(3.85em, 1000em, 4.154em, -999.997em); top: -2.427em; right: 0em;"><span class="mtd" id="MathJax-Span-123"><span class="mrow" id="MathJax-Span-124"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; clip: rect(3.85em, 1000em, 4.154em, -999.997em); top: -0.149em; right: 0em;"><span class="mtd" id="MathJax-Span-160"><span class="mrow" id="MathJax-Span-161"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 9.469em;"></span></span><span style="position: absolute; clip: rect(4.964em, 1017.01em, 13.164em, -999.997em); top: -8.907em; left: 3.192em;"><span style="display: inline-block; position: relative; width: 17.113em; height: 0px;"><span style="position: absolute; width: 100%; clip: rect(3.091em, 1014.84em, 4.407em, -999.997em); top: -7.034em; left: 0em;"><span class="mtd" id="MathJax-Span-55"><span class="mrow" id="MathJax-Span-56"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1014.84em, 4.407em, -999.997em); top: -3.997em; left: 50%; margin-left: -7.49em;"><span class="mi" id="MathJax-Span-57"></span><span class="mo" id="MathJax-Span-58" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mi" id="MathJax-Span-59" style="font-family: MathJax_Math-italic; padding-left: 0.256em;">a</span><span class="mo" id="MathJax-Span-60" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-61" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-62" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-63" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mi" id="MathJax-Span-64" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">a</span><span class="mo" id="MathJax-Span-65" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-66" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-67" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-68" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-69" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-70" style="font-family: MathJax_Main;">+</span><span class="mo" id="MathJax-Span-71" style="font-family: MathJax_Main;">.</span><span class="mo" id="MathJax-Span-72" style="font-family: MathJax_Main; padding-left: 0.154em;">.</span><span class="mo" id="MathJax-Span-73" style="font-family: MathJax_Main; padding-left: 0.154em;">.</span><span class="mi" id="MathJax-Span-74" style="font-family: MathJax_Math-italic; padding-left: 0.154em;">a</span><span class="mo" id="MathJax-Span-75" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-76" style="font-family: MathJax_Math-italic;">r</span><span class="mo" id="MathJax-Span-77" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-78" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-79" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-80" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mi" id="MathJax-Span-81" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">a</span><span class="mo" id="MathJax-Span-82" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-83" style="font-family: MathJax_Math-italic;">r</span><span class="mo" id="MathJax-Span-84" style="font-family: MathJax_Main;">]</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; width: 100%; clip: rect(3.091em, 1017.01em, 4.407em, -999.997em); top: -4.756em; left: 0em;"><span class="mtd" id="MathJax-Span-87"><span class="mrow" id="MathJax-Span-88"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1017.01em, 4.407em, -999.997em); top: -3.997em; left: 50%; margin-left: -8.553em;"><span class="mi" id="MathJax-Span-89"></span><span class="mo" id="MathJax-Span-90" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mo" id="MathJax-Span-91" style="font-family: MathJax_Main; padding-left: 0.256em;">(</span><span class="mi" id="MathJax-Span-92" style="font-family: MathJax_Math-italic;">a</span><span class="mo" id="MathJax-Span-93" style="font-family: MathJax_Main;">[</span><span class="mn" id="MathJax-Span-94" style="font-family: MathJax_Main;">0</span><span class="mo" id="MathJax-Span-95" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-96" style="font-family: MathJax_Main;">+</span><span class="mo" id="MathJax-Span-97" style="font-family: MathJax_Main;">.</span><span class="mo" id="MathJax-Span-98" style="font-family: MathJax_Main; padding-left: 0.154em;">.</span><span class="mo" id="MathJax-Span-99" style="font-family: MathJax_Main; padding-left: 0.154em;">.</span><span class="mo" id="MathJax-Span-100" style="font-family: MathJax_Main; padding-left: 0.154em;">+</span><span class="mi" id="MathJax-Span-101" style="font-family: MathJax_Math-italic;">a</span><span class="mo" id="MathJax-Span-102" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-103" style="font-family: MathJax_Math-italic;">r</span><span class="mo" id="MathJax-Span-104" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-105" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-106" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mo" id="MathJax-Span-107" style="font-family: MathJax_Main; padding-left: 0.205em;">(</span><span class="mi" id="MathJax-Span-108" style="font-family: MathJax_Math-italic;">a</span><span class="mo" id="MathJax-Span-109" style="font-family: MathJax_Main;">[</span><span class="mn" id="MathJax-Span-110" style="font-family: MathJax_Main;">0</span><span class="mo" id="MathJax-Span-111" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-112" style="font-family: MathJax_Main;">+</span><span class="mo" id="MathJax-Span-113" style="font-family: MathJax_Main;">.</span><span class="mo" id="MathJax-Span-114" style="font-family: MathJax_Main; padding-left: 0.154em;">.</span><span class="mo" id="MathJax-Span-115" style="font-family: MathJax_Main; padding-left: 0.154em;">.</span><span class="mo" id="MathJax-Span-116" style="font-family: MathJax_Main; padding-left: 0.154em;">+</span><span class="mi" id="MathJax-Span-117" style="font-family: MathJax_Math-italic;">a</span><span class="mo" id="MathJax-Span-118" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-119" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-120" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-121" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-122" style="font-family: MathJax_Main;">]</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; width: 100%; clip: rect(2.129em, 1008.76em, 5.369em, -999.997em); top: -2.427em; left: 0em;"><span class="mtd" id="MathJax-Span-125"><span class="mrow" id="MathJax-Span-126"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(2.129em, 1008.76em, 5.369em, -999.997em); top: -3.997em; left: 50%; margin-left: -4.452em;"><span class="mi" id="MathJax-Span-127"></span><span class="mo" id="MathJax-Span-128" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="munderover" id="MathJax-Span-129" style="padding-left: 0.256em;"><span style="display: inline-block; position: relative; width: 1.471em; height: 0px;"><span style="position: absolute; clip: rect(2.888em, 1001.37em, 4.609em, -999.997em); top: -3.997em; left: 0em;"><span class="mo" id="MathJax-Span-130" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; clip: rect(3.344em, 1001.27em, 4.255em, -999.997em); top: -2.883em; left: 0.104em;"><span class="texatom" id="MathJax-Span-131"><span class="mrow" id="MathJax-Span-132"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.344em, 1001.27em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-133" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span class="mo" id="MathJax-Span-134" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-135" style="font-size: 70.7%; font-family: MathJax_Main;">0</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; clip: rect(3.445em, 1000.31em, 4.154em, -999.997em); top: -5.161em; left: 0.559em;"><span class="texatom" id="MathJax-Span-136"><span class="mrow" id="MathJax-Span-137"><span style="display: inline-block; position: relative; width: 0.306em; height: 0px;"><span style="position: absolute; clip: rect(3.546em, 1000.31em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-138" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mi" id="MathJax-Span-139" style="font-family: MathJax_Math-italic; padding-left: 0.154em;">a</span><span class="mo" id="MathJax-Span-140" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-141" style="font-family: MathJax_Math-italic;">k</span><span class="mo" id="MathJax-Span-142" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-143" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="munderover" id="MathJax-Span-144" style="padding-left: 0.205em;"><span style="display: inline-block; position: relative; width: 1.471em; height: 0px;"><span style="position: absolute; clip: rect(2.888em, 1001.37em, 4.609em, -999.997em); top: -3.997em; left: 0em;"><span class="mo" id="MathJax-Span-145" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; clip: rect(3.344em, 1001.27em, 4.255em, -999.997em); top: -2.883em; left: 0.104em;"><span class="texatom" id="MathJax-Span-146"><span class="mrow" id="MathJax-Span-147"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.344em, 1001.27em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-148" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span class="mo" id="MathJax-Span-149" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-150" style="font-size: 70.7%; font-family: MathJax_Main;">0</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; clip: rect(3.242em, 1001.07em, 4.204em, -999.997em); top: -5.161em; left: 0.154em;"><span class="texatom" id="MathJax-Span-151"><span class="mrow" id="MathJax-Span-152"><span style="display: inline-block; position: relative; width: 1.116em; height: 0px;"><span style="position: absolute; clip: rect(3.344em, 1001.07em, 4.204em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-153" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-154" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-155" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mi" id="MathJax-Span-156" style="font-family: MathJax_Math-italic; padding-left: 0.154em;">a</span><span class="mo" id="MathJax-Span-157" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-158" style="font-family: MathJax_Math-italic;">k</span><span class="mo" id="MathJax-Span-159" style="font-family: MathJax_Main;">]</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; width: 100%; clip: rect(3.091em, 1009.77em, 4.407em, -999.997em); top: -0.149em; left: 0em;"><span class="mtd" id="MathJax-Span-162"><span class="mrow" id="MathJax-Span-163"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1009.77em, 4.407em, -999.997em); top: -3.997em; left: 50%; margin-left: -4.908em;"><span class="mi" id="MathJax-Span-164"></span><span class="mo" id="MathJax-Span-165" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mi" id="MathJax-Span-166" style="font-family: MathJax_Math-italic; padding-left: 0.256em;">s</span><span class="mi" id="MathJax-Span-167" style="font-family: MathJax_Math-italic;">u</span><span class="mi" id="MathJax-Span-168" style="font-family: MathJax_Math-italic;">m</span><span class="mo" id="MathJax-Span-169" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-170" style="font-family: MathJax_Math-italic;">r</span><span class="mo" id="MathJax-Span-171" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-172" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mi" id="MathJax-Span-173" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">s</span><span class="mi" id="MathJax-Span-174" style="font-family: MathJax_Math-italic;">u</span><span class="mi" id="MathJax-Span-175" style="font-family: MathJax_Math-italic;">m</span><span class="mo" id="MathJax-Span-176" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-177" style="font-family: MathJax_Math-italic;">l</span><span class="mo" id="MathJax-Span-178" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-179" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-180" style="font-family: MathJax_Main;">]</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 8.912em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 9.722em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 9.722em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -4.231em; border-left: 0px solid; width: 0px; height: 9.039em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>=</mo><mi>l</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>r</mi></mrow></munderover><mi>a</mi><mo stretchy="false">[</mo><mi>k</mi><mo stretchy="false">]</mo></mtd><mtd><mi></mi><mo>=</mo><mi>a</mi><mo stretchy="false">[</mo><mi>l</mi><mo stretchy="false">]</mo><mo>+</mo><mi>a</mi><mo stretchy="false">[</mo><mi>l</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo>+</mo><mo>.</mo><mo>.</mo><mo>.</mo><mi>a</mi><mo stretchy="false">[</mo><mi>r</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo><mo>+</mo><mi>a</mi><mo stretchy="false">[</mo><mi>r</mi><mo stretchy="false">]</mo></mtd></mtr><mtr><mtd></mtd><mtd><mi></mi><mo>=</mo><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo>+</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>+</mo><mi>a</mi><mo stretchy="false">[</mo><mi>r</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>−</mo><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo>+</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>+</mo><mi>a</mi><mo stretchy="false">[</mo><mi>l</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mtd></mtr><mtr><mtd></mtd><mtd><mi></mi><mo>=</mo><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>r</mi></mrow></munderover><mi>a</mi><mo stretchy="false">[</mo><mi>k</mi><mo stretchy="false">]</mo><mo>−</mo><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>l</mi><mo>−</mo><mn>1</mn></mrow></munderover><mi>a</mi><mo stretchy="false">[</mo><mi>k</mi><mo stretchy="false">]</mo></mtd></mtr><mtr><mtd></mtd><mtd><mi></mi><mo>=</mo><mi>s</mi><mi>u</mi><mi>m</mi><mo stretchy="false">[</mo><mi>r</mi><mo stretchy="false">]</mo><mo>−</mo><mi>s</mi><mi>u</mi><mi>m</mi><mo stretchy="false">[</mo><mi>l</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mtd></mtr></mtable></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-2">\begin{aligned} \sum_{k=l}^{r}a[k] &= a[l] + a[l+1] + ... a[r-1] + a[r] \\ &= (a[0]+...+a[r]) - (a[0]+...+a[l-1] \\ &= \sum_{k=0}^{r}a[k] - \sum_{k=0}^{l-1}a[k] \\ &= sum[r] - sum[l-1] \end{aligned}</script>
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 9.69174em; vertical-align: -4.59587em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 5.09587em;"><span class="" style="top: -7.28058em;"><span class="pstrut" style="height: 3.83611em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.6514em;"><span class="" style="top: -1.84789em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mathdefault mtight" style="margin-right: 0.01968em;">l</span></span></span></span><span class="" style="top: -3.05em;"><span class="pstrut" style="height: 3.05em;"></span><span class=""><span class="mop op-symbol large-op">∑</span></span></span><span class="" style="top: -4.3em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.30211em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mclose">]</span></span></span><span class="" style="top: -4.83847em;"><span class="pstrut" style="height: 3.83611em;"></span><span class="mord"></span></span><span class="" style="top: -2.34236em;"><span class="pstrut" style="height: 3.83611em;"></span><span class="mord"></span></span><span class="" style="top: 0.099755em;"><span class="pstrut" style="height: 3.83611em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 4.59587em;"><span class=""></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 5.09587em;"><span class="" style="top: -7.28058em;"><span class="pstrut" style="height: 3.83611em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mclose">]</span></span></span><span class="" style="top: -4.83847em;"><span class="pstrut" style="height: 3.83611em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span><span class="" style="top: -2.34236em;"><span class="pstrut" style="height: 3.83611em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.6514em;"><span class="" style="top: -1.84789em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span class="" style="top: -3.05em;"><span class="pstrut" style="height: 3.05em;"></span><span class=""><span class="mop op-symbol large-op">∑</span></span></span><span class="" style="top: -4.3em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.30211em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.83611em;"><span class="" style="top: -1.84789em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span class="" style="top: -3.05em;"><span class="pstrut" style="height: 3.05em;"></span><span class=""><span class="mop op-symbol large-op">∑</span></span></span><span class="" style="top: -4.3em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.01968em;">l</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.30211em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mclose">]</span></span></span><span class="" style="top: 0.099755em;"><span class="pstrut" style="height: 3.83611em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 4.59587em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span><br>   于是，只要预先将前缀和全部求出来，后面每次询问都可以做到 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        O
       
       
        (
       
       
        1
       
       
        )
       
      
      
       O(1)
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p> 
<h1><a name="t9"></a><a id="_47"></a>二、题目描述</h1> 
<h2><a name="t10"></a><a id="1_48"></a>1、定义</h2> 
<blockquote> 
 <p>  数组 <strong>中心下标</strong> 是数组的一个下标，其 <strong>左侧所有元素相加的和</strong> 等于 <strong>右侧所有元素相加的和</strong>。</p> 
</blockquote> 
<h2><a name="t11"></a><a id="2_50"></a>2、求解</h2> 
<blockquote> 
 <p>  给定一个整数数组 <code>nums</code>，请计算数组的 <strong>中心下标</strong> 。如果数组有多个中心下标，应该返回 最靠近左边 的那一个。如果数组不存在中心下标，返回 <code>-1</code>。</p> 
</blockquote> 
<h1><a name="t12"></a><a id="_53"></a>三、算法详解</h1> 
<p>  考虑以下几个点即可：<br>   1、首先枚举一个点，统计它左边 <strong>所有数的和</strong> 和 <strong>右边所有数的和</strong>；<br>   2、一旦找到一个满足条件的点，立刻返回；<br>   3、统计和的过程可以采用 前缀和，这样可以在 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        O
       
       
        (
       
       
        1
       
       
        )
       
      
      
       O(1)
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span> 完成，总的时间复杂度为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        O
       
       
        (
       
       
        n
       
       
        )
       
      
      
       O(n)
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span></p> 
<h1><a name="t13"></a><a id="_59"></a>四、源码剖析</h1> 
<pre class="prettyprint"><code class="prism language-c has-numbering" onclick="mdcp.copyCode(event)" style="position: unset;"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxn</span> <span class="token expression"><span class="token number">100010</span></span></span>
<span class="token keyword">int</span> sum<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">pivotIndex</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> 
            sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> sum<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// (1) </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token punctuation">[</span>numsSize<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>                      <span class="token comment">// (2) </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> sum<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> sum<span class="token punctuation">[</span>numsSize<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> i<span class="token punctuation">;</span>                  <span class="token comment">// (3) </span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>                         <span class="token comment">// (4) </span>
<span class="token punctuation">}</span>
<div class="hljs-button {2}" data-title="复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4259&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li></ul></pre> 
<ul><li><span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         (
        
        
         1
        
        
         )
        
       
       
        (1)
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span> 计算前缀和；</li><li><span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         (
        
        
         2
        
        
         )
        
       
       
        (2)
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mclose">)</span></span></span></span></span> 考虑 中心下标 在 0 的情况；</li><li><span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         (
        
        
         3
        
        
         )
        
       
       
        (3)
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mclose">)</span></span></span></span></span> 左边的部分和为 <code>sum[i-1]</code>，右边的部分和为 <code>sum[numsSize-1] - sum[i]</code>；</li><li><span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         (
        
        
         4
        
        
         )
        
       
       
        (4)
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mclose">)</span></span></span></span></span> 找不到中心坐标的情况；</li></ul> 
<h1><a name="t14"></a><a id="_86"></a>五、推荐专栏</h1> 
<center> 
 <a href="https://blog.csdn.net/whereisherofrom/category_11227297.html"><font color="13ae01"><b>🌳《<u>画解数据结构</u>》🌳 </b></font></a> 
</center>
<br> 
<center> 
 <a href="https://blog.csdn.net/WhereIsHeroFrom/article/details/118979494"><font color="13ae01"><b><u>画解顺序表</u></b></font></a> 
</center>
<br> 
<h1><a name="t15"></a><a id="_93"></a>六、习题练习</h1> 
<div class="table-box"><table><thead><tr><th>序号</th><th>题目链接</th><th>难度</th></tr></thead><tbody><tr><td>1</td><td><a href="https://leetcode-cn.com/problems/sum-of-all-odd-length-subarrays/">所有奇数长度子数组的和</a></td><td>★☆☆☆☆</td></tr><tr><td>2</td><td><a href="https://leetcode-cn.com/problems/find-the-highest-altitude/">找到最高海拔</a></td><td>★☆☆☆☆</td></tr><tr><td>3</td><td><a href="https://leetcode-cn.com/problems/minimum-value-to-get-positive-step-by-step-sum/">逐步求和得到正数的最小值</a></td><td>★☆☆☆☆</td></tr><tr><td>4</td><td><a href="https://leetcode-cn.com/problems/running-sum-of-1d-array/">一维数组的动态和</a></td><td>★☆☆☆☆</td></tr><tr><td>5</td><td><a href="https://leetcode-cn.com/problems/find-pivot-index/">寻找数组的中心下标</a></td><td>★★☆☆☆</td></tr><tr><td>6</td><td><a href="https://leetcode-cn.com/problems/range-sum-query-immutable/"> 区域和检索 - 数组不可变</a></td><td>★★☆☆☆</td></tr></tbody></table></div>
<center>
 👇🏻添加 博主 获取付费专栏优惠券👇🏻
</center>
                </div><div data-report-view="{&quot;mod&quot;:&quot;1585297308_001&quot;,&quot;spm&quot;:&quot;1001.2101.3001.6548&quot;,&quot;dest&quot;:&quot;https://blog.csdn.net/WhereIsHeroFrom/article/details/121987834&quot;,&quot;extend1&quot;:&quot;pc&quot;,&quot;ab&quot;:&quot;new&quot;}"><div></div></div>
                <link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-3fd7f7a902.css" rel="stylesheet">
                <link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-49037e4d27.css" rel="stylesheet">
        </div>